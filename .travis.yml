language: node_js
node_js:
- '6'
before_install:
- echo "registry = https://realglobe.artifactoryonline.com/realglobe/api/npm/npm-virtual" > $HOME/.npmrc
- curl -u${NPM_USER}:${NPM_PASSWORD} "https://realglobe.artifactoryonline.com/realglobe/api/npm/auth" >> $HOME/.npmrc
- cat $HOME/.npmrc
before_install:
- npm install istanbul mocha -g
install:
- npm install
after_success:
- ./ci/travis/publish.js
script:
- ./ci/build.js
- ./ci/test.js
- ./ci/cover.js
- ./ci/report.js

env:
  secure: "FI8H3FNi/L7Ato8qDOkFlfPBlUxeECrobkihglOPFxayTf74Fs/SVrl3/DM1SV5a2Atf4UctZLrkrei6RQ/N0aglIkZwwesL+X9sbJt49yTdLH+vK0nI0MpACOjOoTEQ7Uwed6Eg9c57lZg9/CQH9wjCd9HG4gep4KeN3Hge4rNq+AmYO0J9OoNVeP7Z2BYP3yRZXrDoICr7ZMWra4uz5ceqLQhvCWuR+DQJlkUqwWgOknKiw8iCiOBkEzVc7tZHOIteP+a9a56MxeYeqUvViPBX1WVNy30p6r/YiZacG7eKxqGDjL6QTyisKvnKhUEG9yZ/uu7L5pWhoVbOoQP/0ODcjjizvFHaFTcrcz+DwGWV/K0XeGAhdwsxscSsOIYxG6FY6prMXcMzJ0agsgoVnzD2d3rEEeqN2QzR+pGZUhAo9r674g8D/DU94V34GQjWExVA3j/oZ8dySEcFO8IXZ2R82GD9Crp4vo1i/S4dSnGGcDrgVoLAm/tQGsCArsQk3rXCy0b909RYxA2AL+kHgBjmvkCuu56/Urn0gxzgT0FYKvVxCWlPPe+ymCe4jfBCJkS6repDBoNcYxTpqnORRefQodRMcBW4qyNUbS+zfWdGT0LidVg8BrVJiCSDe55XLRwffNvEDD+ER43Wfk2JPheMiiZWSDvWk+XMHsPTjFE="env:
  secure: "EuHtrZj4LTo0G/8ih2k/3hvr7vZcFGAtYdcAWCds4MlPMC7MYYf3H2QvS7Ure6XApGIW5IIXzsOJjE3lJTzeIO/mPAHaU9RGG6sO2M7gOkeXAy93JjzYfNCtRhEpKy1aTPYz4XmX1HcEaPkqomghDwItnmCoT1d1uenuirDZldtkXb1SVgCE0fnSFUXAjeHSigx1ZeWVBH87t6xvlddfEoan5dZebh3JIS6pfKoO5WUt1hwoC6cY9zrelmJELctQ+Xs2u5/SU5bwytwTeAT741RB729vlACV49q6W6zkPpavQ8Q1EzKJGLGNQndJSA/89QZN8xIW44IsQfHTp/ISLCWgCJ/qyAyoBtgdBr9r8uWfgSePupN9CqhJvfXi5injPL1M3gwccPido/Vq2cOWT6XOM3mmem3i0seupYdULs6jPfSE6v06r50O44euqTYEv7A/jhwFZFeeKbYmh+rf82pvRJYusOgYLb6MZFmkqhDz0q1QaLHuI6zIfzSEhReqVva0XKa5vVWtAeltyO2CJrOt/3+a5Zq23+J9xg2B8ThONM9otsh99jIjtRyGVliheHrwnWjEGLHw4ytg/SB+wF5mPDw7rBw/t/FU+O+uy7hrttkxgd0L75nCvqHK7ROgJAaZz0sQJVEYRdPvLzkOeLeRgHmSgNNa1VsmCchANUc="